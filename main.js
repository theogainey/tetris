"use strict";(()=>{var m={I:{color:"#6EECEE",offsets:[[0,0],[30,0],[60,0],[90,0]]},J:{color:"#0000E6",offsets:[[0,0],[0,30],[30,30],[60,30]]},L:{color:"#E4A439",offsets:[[60,0],[0,30],[30,30],[60,30]]},O:{color:"#E3E34B",offsets:[[0,0],[0,30],[30,0],[30,30]]},S:{color:"#6EEC47",offsets:[[60,0],[30,0],[30,30],[0,30]]},T:{color:"#921CE7",offsets:[[30,0],[30,30],[0,30],[60,30]]},Z:{color:"#DC2F21",offsets:[[0,0],[30,0],[30,30],[60,30]]}},s=document.getElementById("myCanvas"),t={xCurrent:0,yCurrent:0,typeCurrent:"I",dy:30/48,lockedTetrominos:[]};function p({typeCurrent:e,yCurrent:r,dy:i},{height:n}){return r+i+m[e].offsets[0][1]>n-30||r+i+m[e].offsets[1][1]>n-30||r+i+m[e].offsets[2][1]>n-30||r+i+m[e].offsets[3][1]>n-30}function a(){if(!p(t,s)){t.yCurrent=t.yCurrent+t.dy;return}t.lockedTetrominos.push({type:t.typeCurrent,xStart:t.xCurrent,yStart:t.yCurrent}),t.xCurrent=0,t.yCurrent=0}var f=3,c=30-f*2;function d(e,r,i,n){r.offsets.forEach(([z,l])=>{e.beginPath(),e.rect(i+z,n+l,30,30),e.fillStyle=r.color,e.fill(),e.stroke(),e.closePath(),e.beginPath(),e.rect(i+z+f,n+l+f,c,c),e.fillStyle=r.color,e.shadowColor="red",e.shadowBlur=1,e.fill(),e.closePath()})}function S(){let e=s.getContext("2d");e.clearRect(0,0,s.width,s.height),d(e,m[t.typeCurrent],t.xCurrent,t.yCurrent),t.lockedTetrominos.forEach(({type:r,xStart:i,yStart:n})=>{d(e,m[r],i,n)})}function u(){window.addEventListener("keydown",e=>{e.key==="ArrowRight"&&t.xCurrent+30<s.width&&(t.xCurrent=t.xCurrent+30),e.key==="ArrowLeft"&&t.xCurrent-30>=0&&(t.xCurrent=t.xCurrent-30)})}function C(){window.requestAnimationFrame(C),a(),S()}u();C();})();
//# sourceMappingURL=main.js.map
