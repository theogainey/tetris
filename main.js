"use strict";(()=>{var r={I:{color:"#6EECEE",offsets:[[0,0],[30,0],[60,0],[90,0]],rightExtreme:120},J:{color:"#0000E6",offsets:[[0,0],[0,30],[30,30],[60,30]],rightExtreme:90},L:{color:"#E4A439",offsets:[[60,0],[0,30],[30,30],[60,30]],rightExtreme:90},O:{color:"#E3E34B",offsets:[[0,0],[0,30],[30,0],[30,30]],rightExtreme:60},S:{color:"#6EEC47",offsets:[[60,0],[30,0],[30,30],[0,30]],rightExtreme:60},T:{color:"#921CE7",offsets:[[30,0],[30,30],[0,30],[60,30]],rightExtreme:90},Z:{color:"#DC2F21",offsets:[[0,0],[30,0],[30,30],[60,30]],rightExtreme:90}},s=document.getElementById("myCanvas"),e={xCurrent:0,yCurrent:0,typeCurrent:"Z",dy:30/48,lockedTetrominos:[]};function C({typeCurrent:t,yCurrent:i,dy:n},{height:m}){return i+n+r[t].offsets[0][1]>m-30||i+n+r[t].offsets[1][1]>m-30||i+n+r[t].offsets[2][1]>m-30||i+n+r[t].offsets[3][1]>m-30}function a(){if(!C(e,s)){e.yCurrent=e.yCurrent+e.dy;return}e.lockedTetrominos.push({type:e.typeCurrent,xStart:e.xCurrent,yStart:e.yCurrent}),e.xCurrent=0,e.yCurrent=0}function u(t,i,n,m){i.offsets.forEach(([c,l])=>{t.beginPath(),t.rect(n+c,m+l,30,30),t.fillStyle=i.color,t.fill(),t.stroke(),t.closePath()})}function f(){let t=s.getContext("2d");t.clearRect(0,0,s.width,s.height),u(t,r[e.typeCurrent],e.xCurrent,e.yCurrent),e.lockedTetrominos.forEach(({type:i,xStart:n,yStart:m})=>{u(t,r[i],n,m)})}function x(t){switch(t){case"ArrowRight":return e.xCurrent+r[e.typeCurrent].rightExtreme<s.width;case"ArrowLeft":return e.xCurrent-30>=0;default:return!1}}function d(t){switch(t){case"ArrowRight":e.xCurrent=e.xCurrent+30;break;case"ArrowLeft":e.xCurrent=e.xCurrent-30;break;default:e.xCurrent=e.xCurrent-30;break}}function S(){window.addEventListener("keydown",t=>{x(t.key)&&d(t.key)})}function z(){window.requestAnimationFrame(z),a(),f()}S();z();})();
//# sourceMappingURL=main.js.map
